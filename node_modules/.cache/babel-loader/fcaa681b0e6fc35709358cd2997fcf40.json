{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import DonationItem from'../components/donationItem';import Spinner from'../components/Spinner';import{getDonations,reset}from'../features/donations/donationSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.donations;}),donations=_useSelector2.donations,isLoading=_useSelector2.isLoading,isError=_useSelector2.isError,message=_useSelector2.message;useEffect(function(){if(isError){console.log(message);}if(!user){navigate('/login');}dispatch(getDonations());return function(){dispatch(reset());};},[user,navigate,isError,message,dispatch]);if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome \",user&&user.name]}),/*#__PURE__*/_jsx(\"p\",{children:\"Goals Dashboard\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"content\",children:[console.log(donations.length),donations&&donations.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"donatins\",children:donations.map(function(donation){return/*#__PURE__*/_jsx(DonationItem,{donation:donation},donation._id);})}):/*#__PURE__*/_jsx(\"h3\",{children:\"You have not set any goals\"})]})]});}export default Dashboard;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","useNavigate","DonationItem","Spinner","getDonations","reset","Dashboard","navigate","dispatch","state","auth","user","donations","isLoading","isError","message","console","log","name","length","map","donation","_id"],"sources":["/media/moni/project/ovibason/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\nimport DonationItem from '../components/donationItem'\nimport Spinner from '../components/Spinner'\nimport { getDonations, reset } from '../features/donations/donationSlice'\nfunction Dashboard() {\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n\n  const { user } = useSelector((state) => state.auth)\n  const { donations,  isLoading, isError, message } = useSelector(\n    (state) => state.donations\n  )\n\n  useEffect(() => {\n    if (isError) {\n      console.log(message)\n    }\n\n    if (!user) {\n      navigate('/login')\n    }\n\n    dispatch(getDonations())\n \n    return () => {\n      dispatch(reset())\n    }\n  }, [user, navigate, isError, message, dispatch])\n\n  if (isLoading) {\n    return <Spinner />\n  }\n\n  return (\n    <>\n      <section className='heading'>\n        <h1>Welcome {user && user.name}</h1>\n        <p>Goals Dashboard</p>\n      </section>\n\n \n\n      <section className='content'>\n        {console.log(donations.length)}\n        {donations && donations.length > 0 ? (\n          <div className='donatins'>\n            {donations.map((donation) => (\n              <DonationItem key={donation._id} donation={donation} />\n            ))}\n          </div>\n        ) : (\n          <h3>You have not set any goals</h3>\n        )}\n\n\n        {/* {donations.length > 0 ? (\n          <div className='donatins'>\n            {Object.keys(donations).map((donation) => (\n               console.log(donation[donation])\n            ))}\n          </div>\n        ) : (\n          <h3>You have not set any goals</h3>\n        )} */}\n      </section>\n    </>\n  )\n}\n\nexport default Dashboard"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,aAAP,KAAyB,4BAAzB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,YAAT,CAAuBC,KAAvB,KAAoC,qCAApC,C,6IACA,QAASC,UAAT,EAAqB,CACnB,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,SAAQ,CAAGT,WAAW,EAA5B,CAEA,iBAAiBC,WAAW,CAAC,SAACS,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CACA,kBAAoDX,WAAW,CAC7D,SAACS,KAAD,QAAWA,MAAK,CAACG,SAAjB,EAD6D,CAA/D,CAAQA,SAAR,eAAQA,SAAR,CAAoBC,SAApB,eAAoBA,SAApB,CAA+BC,OAA/B,eAA+BA,OAA/B,CAAwCC,OAAxC,eAAwCA,OAAxC,CAIAjB,SAAS,CAAC,UAAM,CACd,GAAIgB,OAAJ,CAAa,CACXE,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACD,CAED,GAAI,CAACJ,IAAL,CAAW,CACTJ,QAAQ,CAAC,QAAD,CAAR,CACD,CAEDC,QAAQ,CAACJ,YAAY,EAAb,CAAR,CAEA,MAAO,WAAM,CACXI,QAAQ,CAACH,KAAK,EAAN,CAAR,CACD,CAFD,CAGD,CAdQ,CAcN,CAACM,IAAD,CAAOJ,QAAP,CAAiBO,OAAjB,CAA0BC,OAA1B,CAAmCP,QAAnC,CAdM,CAAT,CAgBA,GAAIK,SAAJ,CAAe,CACb,mBAAO,KAAC,OAAD,IAAP,CACD,CAED,mBACE,wCACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,iCAAaF,IAAI,EAAIA,IAAI,CAACO,IAA1B,GADF,cAEE,sCAFF,GADF,cAQE,iBAAS,SAAS,CAAC,SAAnB,WACGF,OAAO,CAACC,GAAR,CAAYL,SAAS,CAACO,MAAtB,CADH,CAEGP,SAAS,EAAIA,SAAS,CAACO,MAAV,CAAmB,CAAhC,cACC,YAAK,SAAS,CAAC,UAAf,UACGP,SAAS,CAACQ,GAAV,CAAc,SAACC,QAAD,qBACb,KAAC,YAAD,EAAiC,QAAQ,CAAEA,QAA3C,EAAmBA,QAAQ,CAACC,GAA5B,CADa,EAAd,CADH,EADD,cAOC,kDATJ,GARF,GADF,CAkCD,CAED,cAAehB,UAAf"},"metadata":{},"sourceType":"module"}