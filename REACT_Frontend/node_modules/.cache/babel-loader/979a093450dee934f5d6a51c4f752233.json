{"ast":null,"code":"import _regeneratorRuntime from\"/media/moni/project/ovibason/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/media/moni/project/ovibason/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import donationService from'./donationService';var initialState={donations:[],isError:false,isSuccess:false,isLoading:false,message:''};// Get user goals\nexport var getDonations=createAsyncThunk('goals/getAll',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_,thunkAPI){var token,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=thunkAPI.getState().auth.user.token;_context.next=4;return donationService.getDonations(token);case 4:return _context.abrupt(\"return\",_context.sent);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);message=_context.t0.response&&_context.t0.response.data&&_context.t0.response.data.message||_context.t0.message||_context.t0.toString();return _context.abrupt(\"return\",thunkAPI.rejectWithValue(message));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var goalSlice=createSlice({name:'goal',initialState:initialState,reducers:{reset:function reset(state){return initialState;}},extraReducers:function extraReducers(builder){builder.addCase(getDonations.pending,function(state){state.isLoading=true;}).addCase(getDonations.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.donations=action.payload;}).addCase(getDonations.rejected,function(state,action){state.isLoading=false;state.isError=true;state.message=action.payload;});}});var reset=goalSlice.actions.reset;export{reset};export default goalSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","donationService","initialState","donations","isError","isSuccess","isLoading","message","getDonations","_","thunkAPI","token","getState","auth","user","response","data","toString","rejectWithValue","goalSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["/media/moni/project/ovibason/frontend/src/features/donations/donationSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport donationService from './donationService'\n\nconst initialState = {\n    donations: [],\n    isError: false,\n    isSuccess: false,\n    isLoading: false,\n    message: '',\n}\n\n// Get user goals\nexport const getDonations = createAsyncThunk(\n    'goals/getAll',\n    async (_, thunkAPI) => {\n        try {\n            const token = thunkAPI.getState().auth.user.token\n            return await donationService.getDonations(token)\n        } catch (error) {\n            const message =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString()\n            return thunkAPI.rejectWithValue(message)\n        }\n    }\n)\n\nexport const goalSlice = createSlice({\n    name: 'goal',\n    initialState,\n    reducers: {\n        reset: (state) => initialState,\n    },\n    extraReducers: (builder) => {\n        builder\n\n            .addCase(getDonations.pending, (state) => {\n                state.isLoading = true\n            })\n            .addCase(getDonations.fulfilled, (state, action) => {\n                state.isLoading = false\n                state.isSuccess = true\n                state.donations = action.payload\n            })\n            .addCase(getDonations.rejected, (state, action) => {\n                state.isLoading = false\n                state.isError = true\n                state.message = action.payload\n            })\n\n    },\n})\n\nexport const { reset } = goalSlice.actions\nexport default goalSlice.reducer\n"],"mappings":"sQAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,CAEA,GAAMC,aAAY,CAAG,CACjBC,SAAS,CAAE,EADM,CAEjBC,OAAO,CAAE,KAFQ,CAGjBC,SAAS,CAAE,KAHM,CAIjBC,SAAS,CAAE,KAJM,CAKjBC,OAAO,CAAE,EALQ,CAArB,CAQA;AACA,MAAO,IAAMC,aAAY,CAAGT,gBAAgB,CACxC,cADwC,4FAExC,iBAAOU,CAAP,CAAUC,QAAV,sJAEcC,KAFd,CAEsBD,QAAQ,CAACE,QAAT,GAAoBC,IAApB,CAAyBC,IAAzB,CAA8BH,KAFpD,uBAGqBV,gBAAe,CAACO,YAAhB,CAA6BG,KAA7B,CAHrB,+GAKcJ,OALd,CAMa,YAAMQ,QAAN,EACG,YAAMA,QAAN,CAAeC,IADlB,EAEG,YAAMD,QAAN,CAAeC,IAAf,CAAoBT,OAFxB,EAGA,YAAMA,OAHN,EAIA,YAAMU,QAAN,EAVZ,iCAWeP,QAAQ,CAACQ,eAAT,CAAyBX,OAAzB,CAXf,sEAFwC,mEAArC,CAkBP,MAAO,IAAMY,UAAS,CAAGnB,WAAW,CAAC,CACjCoB,IAAI,CAAE,MAD2B,CAEjClB,YAAY,CAAZA,YAFiC,CAGjCmB,QAAQ,CAAE,CACNC,KAAK,CAAE,eAACC,KAAD,QAAWrB,aAAX,EADD,CAHuB,CAMjCsB,aAAa,CAAE,uBAACC,OAAD,CAAa,CACxBA,OAAO,CAEFC,OAFL,CAEalB,YAAY,CAACmB,OAF1B,CAEmC,SAACJ,KAAD,CAAW,CACtCA,KAAK,CAACjB,SAAN,CAAkB,IAAlB,CACH,CAJL,EAKKoB,OALL,CAKalB,YAAY,CAACoB,SAL1B,CAKqC,SAACL,KAAD,CAAQM,MAAR,CAAmB,CAChDN,KAAK,CAACjB,SAAN,CAAkB,KAAlB,CACAiB,KAAK,CAAClB,SAAN,CAAkB,IAAlB,CACAkB,KAAK,CAACpB,SAAN,CAAkB0B,MAAM,CAACC,OAAzB,CACH,CATL,EAUKJ,OAVL,CAUalB,YAAY,CAACuB,QAV1B,CAUoC,SAACR,KAAD,CAAQM,MAAR,CAAmB,CAC/CN,KAAK,CAACjB,SAAN,CAAkB,KAAlB,CACAiB,KAAK,CAACnB,OAAN,CAAgB,IAAhB,CACAmB,KAAK,CAAChB,OAAN,CAAgBsB,MAAM,CAACC,OAAvB,CACH,CAdL,EAgBH,CAvBgC,CAAD,CAA7B,CA0BA,GAAQR,MAAR,CAAkBH,SAAS,CAACa,OAA5B,CAAQV,KAAR,C,cACP,cAAeH,UAAS,CAACc,OAAzB"},"metadata":{},"sourceType":"module"}